<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>portal-documentation/deployment/linux-deployment · eMagiz Platform documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="# Linux deployment"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="portal-documentation/deployment/linux-deployment · eMagiz Platform documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://emagiz.github.io/"/><meta property="og:description" content="# Linux deployment"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/platypus.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/platypus.png" alt="eMagiz Platform documentation"/><h2 class="headerTitleWithLogo">eMagiz Platform documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Ask me something" title="Ask me something"/></li><li class=""><a href="/docs/referenceguide/" target="_self">Reference</a></li><li class=""><a href="/docs/integration/" target="_self">Concepts</a></li><li class=""><a href="/docs/iPaaS/" target="_self">Method</a></li><li class=""><a href="/docs/howto/" target="_self">How to</a></li><li class=""><a href="/docs/portal-documentation/" target="_self">Old documentation</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">portal-documentation/deployment/linux-deployment</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="linux-deployment"></a><a href="#linux-deployment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Linux deployment</h1>
<p><a href="https://my.emagiz.com/link/documentation/9">https://my.emagiz.com/link/documentation/9</a>
This manual describes how to configure a linux environment for running an eMagiz runtime.</p>
<p>We currently support the following distributions:</p>
<ul>
<li>Debian 6</li>
<li>Ubuntu 10 and up</li>
<li>RHEL 6</li>
</ul>
<p>Other distributions especially forks of the above may be compatible but are not fully tested and supported by eMagiz.</p>
<p>To be able to run the eMagiz runtime the following dependencies are required to be installed on your system.</p>
<ul>
<li>Java 1.7 or 1.8</li>
</ul>
<p>The eMagiz runtime can be downloaded from the Saas portal.</p>
<p>We suggest installing the emagiz runtime in the /opt/eMagiz/&lt;runtime_folder&gt;/</p>
<p>According to FHS this is the directory to install any data required for services provided by the system.</p>
<p>This way you are able to install multiple eMagiz instances inside the /opt folder. If you were to host multiple eMagiz environments belonging to different customers you could consider adding 1 extra layer to the directory structure, namely that of the user. e.g. /opt/eMagiz/<emagizUser>/&lt;runtime_folder/</p>
<h2><a class="anchor" aria-hidden="true" id="preparing-the-system"></a><a href="#preparing-the-system" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Preparing the system</h2>
<p>It is highly recommended to create a separate user that is allowed to run one or multiple runtimes. If one customer has multiple JVM's it is allowed to use the same user for each JVM, however when you have a multiple runtimes belonging to a different customer you should separate these and make 1 user for each of these groups.</p>
<pre><code class="hljs">admin@community:~$ sudo adduser --no-create-home --gecos &quot;Emagiz test user,,,&quot; emagiztest
Adding new group `emagiztest' (GID 123) ...
Adding new user `emagiztest' (UID 116) with group `emagiztest' ...
Not creating home directory `/home/emagiztest'.
admin@community:~$    
</code></pre>
<p>When the user is created add the directory structure and copy the emagiz runtime to that directory. Afterwards set the correct user rights.</p>
<pre><code class="hljs">admin@community:~$ sudo mkdir -p /opt/emagiz/emagiztest
admin@community:~$ sudo cp ./emagiz-3.8.0-standalone.zip /opt/emagiz/emagiztest/
admin@community:~$ cd /opt/emagiz/emagiztest/
admin@community:/opt/emagiz/emagiztest$ sudo unzip emagiz-3.8.0-standalone.zip
admin@community:/opt/emagiz/emagiztest$ sudo rm -r emagiz-3.8.0-standalone.zip
admin@community:/opt/emagiz/emagiztest$ sudo chown emagiztest:emagiztest * -R
admin@community:/opt/emagiz/emagiztest$ sudo chmod 770 config/ console/ extensions/ libraries/ logs/ resources/ service/
admin@community:/opt/emagiz/emagiztest$ ls -l
total 40
drwxrwx--- 2 emagiztest emagiztest  4096 Mar 12 15:20 config
drwxrwx--- 2 emagiztest emagiztest  4096 Mar 12 15:20 console
drwxrwx--- 2 emagiztest emagiztest  4096 Mar 12 15:20 extensions
drwxrwx--- 2 emagiztest emagiztest 16384 Mar 12 15:21 libraries
drwxrwx--- 2 emagiztest emagiztest  4096 Mar 12 15:20 logs
drwxrwx--- 2 emagiztest emagiztest  4096 Mar 12 15:20 resources
drwxrwx--- 2 emagiztest emagiztest  4096 Mar 12 15:20 service
admin@community:/opt/emagiz/emagiztest$
</code></pre>
<p>Now you can configure the emagiz process by filling in the appropriate configuration settings under service/emagiz-daemon.</p>
<p>Next you should pick the appropriate startup script and rename it so no more spaces exists in its name.</p>
<pre><code class="hljs">admin@community:/opt/emagiz/emagiztest$ cd service/
admin@community:/opt/emagiz/emagiztest/service$ mv &quot;daemon-installer (Debian).sh&quot; daemon-installer.sh
admin@community:/opt/emagiz/emagiztest/service$ sudo chmod +x daemon-installer.sh emagiz-daemon  
</code></pre>
<p>Then you should edit this script and fill in all the configuration settings.</p>
<table>
<thead>
<tr><th style="text-align:left">Properties</th><th style="text-align:left">Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">NAME</td><td style="text-align:left">Name of the daemon that is used to register the daemon as a service. This name should be unique for each instance of emagiz you wish to run.</td></tr>
<tr><td style="text-align:left">SERVICE</td><td style="text-align:left">A description of the service used in the log files and as feedback to describe the service.</td></tr>
<tr><td style="text-align:left">DAEMON</td><td style="text-align:left">Path to the daemon in the example case this would be /opt/emagiz/emagiztest/service/emagiz-daemon</td></tr>
<tr><td style="text-align:left">SERVICELOGFILE</td><td style="text-align:left">Path to the service log file in the example case this would be /opt/emagiz/emagiztest/logs/service.log</td></tr>
<tr><td style="text-align:left">USER</td><td style="text-align:left">User that is going to run the emagiz process. e.g. emagiztest</td></tr>
<tr><td style="text-align:left">GROUP</td><td style="text-align:left">Group that is allowed to start the process. e.g. emagiztest</td></tr>
</tbody>
</table>
<p>After filling the appropriate settings you can test the script by running it. Make sure you have the license file in place otherwise you will not be able to start your process.</p>
<p>admin@community:/opt/emagiz/emagiztest/service$ sudo ./<a href="http://daemon-installer.sh">daemon-installer.sh</a> start
When the service starts succesfully, you can call the same command again except with the stop command to stop the daemon.
Now all that remains is to install the daemon as a service you can do this by calling the command.</p>
<pre><code class="hljs">admin@community:/opt/emagiz/emagiztest/service$ sudo ./daemon-installer.sh install
</code></pre>
<p>From now on you can start and stop the service by calling the service <servicename> start/stop</p>
<pre><code class="hljs">admin@community:/opt/emagiz/emagiztest/service$ sudo service emagizService start
</code></pre>
<p>Or</p>
<pre><code class="hljs">admin@community:/opt/emagiz/emagiztest/service$ sudo initctl emagizService start
</code></pre>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#preparing-the-system">Preparing the system</a></li></ul></nav></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2e1804e3e0c239242d9914d98d6bf260',
                indexName: 'emagiz',
                inputSelector: '#search_input_react'
              });
            </script></body></html>